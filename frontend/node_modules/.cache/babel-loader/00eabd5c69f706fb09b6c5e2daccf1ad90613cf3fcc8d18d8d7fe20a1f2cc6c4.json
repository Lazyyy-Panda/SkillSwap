{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aadit\\\\OneDrive\\\\Desktop\\\\SkillExchange-FWD-main\\\\frontend\\\\src\\\\components\\\\Messages.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport API_BASE from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Messages = ({\n  setView,\n  selectedReceiver\n}) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    fetchMessages();\n  }, []);\n  const fetchMessages = async () => {\n    const token = localStorage.getItem('token');\n    if (!token) return;\n    try {\n      const response = await fetch(`${API_BASE}/messages`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setMessages(Array.isArray(data) ? data : []);\n      } else {\n        setMessages([]);\n      }\n    } catch (error) {\n      console.error('Error fetching messages:', error);\n      setMessages([]);\n    }\n  };\n  const handleSend = async () => {\n    if (!message.trim() || !selectedReceiver) return;\n    const token = localStorage.getItem('token');\n    try {\n      await fetch(`${API_BASE}/messages`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          receiverId: selectedReceiver,\n          message\n        })\n      });\n      setMessage('');\n      alert('Message sent!');\n    } catch (error) {\n      console.error('Error sending message:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"My Messages\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), selectedReceiver && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Send Message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: message,\n        onChange: e => setMessage(e.target.value),\n        placeholder: \"Type your message...\",\n        rows: \"4\",\n        style: {\n          width: '300px',\n          padding: '10px',\n          borderRadius: '10px',\n          border: '1px solid #ccc'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSend,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        maxWidth: '600px'\n      },\n      children: messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #ccc',\n          padding: '10px',\n          margin: '10px 0',\n          borderRadius: '10px',\n          background: 'rgba(255,255,255,0.9)',\n          color: '#333'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"From: \", msg.senderId.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: msg.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: new Date(msg.timestamp).toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, msg._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setView('explore'),\n      children: \"Back to Explore\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(Messages, \"9iyGj6dRHK6V1mxAAjlNUec9m4A=\");\n_c = Messages;\nexport default Messages;\nvar _c;\n$RefreshReg$(_c, \"Messages\");","map":{"version":3,"names":["React","useState","useEffect","API_BASE","jsxDEV","_jsxDEV","Messages","setView","selectedReceiver","_s","messages","setMessages","message","setMessage","fetchMessages","token","localStorage","getItem","response","fetch","headers","ok","data","json","Array","isArray","error","console","handleSend","trim","method","body","JSON","stringify","receiverId","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","flexDirection","alignItems","marginBottom","value","onChange","e","target","placeholder","rows","width","padding","borderRadius","border","onClick","maxWidth","map","msg","margin","background","color","senderId","name","Date","timestamp","toLocaleString","_id","_c","$RefreshReg$"],"sources":["C:/Users/aadit/OneDrive/Desktop/SkillExchange-FWD-main/frontend/src/components/Messages.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport API_BASE from '../api';\n\nconst Messages = ({ setView, selectedReceiver }) => {\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    fetchMessages();\n  }, []);\n\n  const fetchMessages = async () => {\n    const token = localStorage.getItem('token');\n    if (!token) return;\n    try {\n      const response = await fetch(`${API_BASE}/messages`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setMessages(Array.isArray(data) ? data : []);\n      } else {\n        setMessages([]);\n      }\n    } catch (error) {\n      console.error('Error fetching messages:', error);\n      setMessages([]);\n    }\n  };\n\n  const handleSend = async () => {\n    if (!message.trim() || !selectedReceiver) return;\n    const token = localStorage.getItem('token');\n    try {\n      await fetch(`${API_BASE}/messages`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({ receiverId: selectedReceiver, message })\n      });\n      setMessage('');\n      alert('Message sent!');\n    } catch (error) {\n      console.error('Error sending message:', error);\n    }\n  };\n\n  return (\n    <div className=\"page fade-in\">\n      <h2>My Messages</h2>\n      {selectedReceiver && (\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginBottom: '20px' }}>\n          <h3>Send Message</h3>\n          <textarea\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            placeholder=\"Type your message...\"\n            rows=\"4\"\n            style={{ width: '300px', padding: '10px', borderRadius: '10px', border: '1px solid #ccc' }}\n          />\n          <button onClick={handleSend}>Send</button>\n        </div>\n      )}\n      <div style={{ width: '100%', maxWidth: '600px' }}>\n        {messages.map((msg) => (\n          <div key={msg._id} style={{ border: '1px solid #ccc', padding: '10px', margin: '10px 0', borderRadius: '10px', background: 'rgba(255,255,255,0.9)', color: '#333' }}>\n            <p><strong>From: {msg.senderId.name}</strong></p>\n            <p>{msg.message}</p>\n            <p>{new Date(msg.timestamp).toLocaleString()}</p>\n          </div>\n        ))}\n      </div>\n      <button onClick={() => setView('explore')}>Back to Explore</button>\n    </div>\n  );\n};\n\nexport default Messages;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}